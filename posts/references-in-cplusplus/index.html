<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>References in C++ | Clips</title><meta name=keywords content="Cpp"><meta name=description content="What is a reference(&) in C++?"><meta name=author content="jureaky"><link rel=canonical href=https://jureaky.github.io/posts/references-in-cplusplus/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://jureaky.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jureaky.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jureaky.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jureaky.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jureaky.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link crossorigin=anonymous href=/css/partials/admonition.css rel="preload stylesheet" as=style><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="References in C++"><meta property="og:description" content="What is a reference(&) in C++?"><meta property="og:type" content="article"><meta property="og:url" content="https://jureaky.github.io/posts/references-in-cplusplus/"><meta property="og:image" content="https://jureaky.github.io/posts/references-in-cplusplus/images/featured-img.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-06T02:45:20+09:00"><meta property="article:modified_time" content="2020-05-06T02:45:20+09:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jureaky.github.io/posts/references-in-cplusplus/images/featured-img.png"><meta name=twitter:title content="References in C++"><meta name=twitter:description content="What is a reference(&) in C++?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://jureaky.github.io/posts/"},{"@type":"ListItem","position":3,"name":"References in C++","item":"https://jureaky.github.io/posts/references-in-cplusplus/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"References in C++","name":"References in C\u002b\u002b","description":"What is a reference(\u0026amp;) in C++?","keywords":["Cpp"],"articleBody":"1 Concept of a Reference in C++ A Reference is a new name(alias) for another existing object or variable. And, as the name suggests, it is a pointer internally.\nReference is declared as:\n\u0026  = \nLike pointer symbol(*), reference symbol(\u0026) can be placed anywhere between  and .\nNote   Note that references must be initialized when they are created. References without objects to reference do not make sense.\n  NULL reference does not exist.\n  Cannot reference to constants. Like pointers cannot.(We need const keyword for this, sometimes called const references)\n  int a = 10; int\u0026 ref1 = a; // O  int\u0026 ref2 = NULL // X  const int b = 5; int\u0026 ref3 = b; // X int\u0026 ref4 = 3; // X     2 Uses of References Simple Alias References are pointers(of course they don‚Äôt look like pointers) referring to the exact same object initialized with. References act like the referenced variables but only with different names.\n#include  int main() { int data = 10; int\u0026 rData = data; rData = 20; // same as data = 20;  std::cout  \"data: \"  data  std::endl; std::cout  \"rData: \"  rData  std::endl; return 0; } The result is:\nExecution Result  data: 20\nrData: 20\n   Function Parameters It is very common that references are used as function parameters.\nWhen an argument is not passed as a reference, the copy of the argument is made, and the function deals with the copied value.\nHowever, in this case, passing argument as a reference makes us modify the original value directly.\nAlso, if the size of the argument is big(like an array), it is efficient to use a reference as no copy of the big data happens.\n#include  void increase(int\u0026 value) { value++; } int main() { int data = 10; increase(data); // increase(\u0026data) Wrong!  std::cout  \"data: \"  data  std::endl; return 0; } The result is:\nExecution Result  data: 11   Warning  Passing constant argument to increase() function like increase(10) will generate a compile error.\nThe reason is that reference can‚Äôt refer to contant value.\nTo avoid this, we use const reference, which will be described below of this article.\n    3 References vs Pointers References can be thought of as pointers with more restrictive power. For example, the first example can be substitued using pointer like:\n#inlcude   int main() { int data = 10; int* pData = \u0026data; *pData = 20; } Then, why do we need references?\nActually, references are recommended in most cases because those restrictions prevent people from certain dangers of using pointers.\nBelow are some of significant differences between References and Pointers.\nAllowing NULL values Like said above, a reference can‚Äôt have NULL value.\nMemory allocation Pointer itself is allocated a memory address, and stores the memory address of the variable it points.\nHowever, reference shares the same memory address with the original variable(Of course it should also have memory address in low level).\n#include  int main() { int data = 10; int* pData = \u0026data; int\u0026 rData = data; std::cout  \"addr of data: \"  \u0026data  std::endl; std::cout  \"addr of pData: \"  \u0026pData  std::endl; std::cout  \"addr of rData: \"  \u0026rData  std::endl; return 0; } The result is:\nExecution Result  addr of data: 010FFE80\naddr of pData: 010FFE74\naddr of rData: 010FFE80\n   Reassigning reference Once a reference is initialized, this reference can‚Äôt change.\n#include  int main() { int num1 = 10; int num2 = 20; int\u0026 rNum1 = num1; rNum1 = num2 } This code changes the value of num1 from 10 to the value of num2(20). Once rNum1 variable refers to num1, it doesn‚Äôt change.\nHowever, for the case of pointers, it is possible to change where it points.\n#include  int main() { int num1 = 10; int num2 = 20; int* pNum1 = \u0026num1; pNum1 = \u0026num2; } Pointer variable pNum1 now points num2. Now we can see something is wrong. In some cases this can be critical. To prevent this, use reference or const keyword. After all, int\u0026 rNum1 can be regarded as int* const pNum1.\n 4 Const References It seems like reference covers all the pointer‚Äôs problem, but reference can also bring some problems.\nOne big problem is that When a function‚Äôs parameter is reference and we are trying to use that function, we can‚Äôt be sure whether it is reference or not.\nint data = 10; someFunc(data); In C language, we can be sure that the value of data is still 10 after someFunc(data) has been executed.\nIn C++, however, if the function is declared like void someFunc(int\u0026), there exists a possibility of modifying the value of data.\nThis is where const reference should come in. we can prevent modifying the value of original argument by declaring the function as void someFunc(const int\u0026).\nConst reference also makes referencing to constant values possible.\nconst int data = 10; const int\u0026 rData = data; // O const int\u0026 rNum = 20; // O This resolves another problem stated above. I mentioned increase(10) is not allowed in the function parameter example.\nIf the function parameter is reference, argument should be made as a non-constant variable. This is very annoying.\nHowever, if we use const reference, we are then be able to pass contant argument to the function. Therefore, increase(10)is possible (Actually this function modifies the value of the argument, so it is not the right case to use it).\n 5 R-value References (C++11) R-value reference is introduced in C++11. Reference we discussed so far is actually a L-value reference.\nR-value reference uses two \u0026 symbols:\n\u0026\u0026  = \nL-value and R-value Simply we distinguish l-values and r-values by figuring out whether the value can be put left-side or right-side of assignment operator(=). However, I need slightly more concrete criteria.\nL-value is an object whose memory location is identifiable. Most variables are l-values.\nR-value is any object that is not l-value, which means we cannot identify its memory location. Literals and temporary values obtained from arithmetic operations or returned by function calls are usually r-values.\nMisconceptions   Functions or operators always yields R-values  int a = 5 + 3; // (5 + 3) is r-value  int b; int\u0026 test() { return b; } test() = 1; // return value of test() is l-value  int arr[10]; arr[2] = 100; // [] operator yields l-value R-values are not modifiable  TestClass().testFunc(); // TestClass() returns r-value, but testFunc() may modify TestClass object    Referencing temporary values A result of arithmetic operations is temporary value. its scope is the line the operation was performed. After the execution of that line, we lose the temporary value.\nR-value reference makes us keep track of the temporary value.\n#include  int twice(int input) { return input * 2; } int main() { int\u0026\u0026 num1 = 3 + 7; int\u0026\u0026 num2 = twice(10); } This looks a bit wierd because we can just use simple int num1 = 3 + 7 instead of that ugly \u0026\u0026.\nI know this is not the real usefulness of r-value reference.\nI need to study further to figure out that. To be continued‚Ä¶\n üëâ Thank you for reading my post ! üôè\nüëâ Please leave a comment if you have any ideas to share ! üé∂\n","wordCount":"1212","inLanguage":"en","datePublished":"2020-05-06T02:45:20+09:00","dateModified":"2020-05-06T02:45:20+09:00","author":{"@type":"Person","name":"jureaky"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jureaky.github.io/posts/references-in-cplusplus/"},"publisher":{"@type":"Organization","name":"Clips","logo":{"@type":"ImageObject","url":"https://jureaky.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://jureaky.github.io accesskey=h title="main() (Alt + H)">main()</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jureaky.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://jureaky.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://jureaky.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jureaky.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jureaky.github.io>Home</a>&nbsp;¬ª&nbsp;<a href=https://jureaky.github.io/posts/>Posts</a></div><h1 class=post-title>References in C++</h1><div class=post-meta><span title="2020-05-06 02:45:20 +0900 KST">May 6, 2020</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;jureaky&nbsp;|&nbsp;<a href=https://github.com/jureaky/blog/blob/master/content/posts/references-in-cplusplus/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-concept-of-a-reference-in-c aria-label="1 Concept of a Reference in C++">1 Concept of a Reference in C++</a></li><li><a href=#2-uses-of-references aria-label="2 Uses of References">2 Uses of References</a><ul><li><a href=#simple-alias aria-label="Simple Alias">Simple Alias</a></li><li><a href=#function-parameters aria-label="Function Parameters">Function Parameters</a></li></ul></li><li><a href=#3-references-vs-pointers aria-label="3 References vs Pointers">3 References vs Pointers</a><ul><li><a href=#allowing-null-values aria-label="Allowing NULL values">Allowing NULL values</a></li><li><a href=#memory-allocation aria-label="Memory allocation">Memory allocation</a></li><li><a href=#reassigning-reference aria-label="Reassigning reference">Reassigning reference</a></li></ul></li><li><a href=#4-const-references aria-label="4 Const References">4 Const References</a></li><li><a href=#5-r-value-references-c11 aria-label="5 R-value References (C++11)">5 R-value References (C++11)</a><ul><li><a href=#l-value-and-r-value aria-label="L-value and R-value">L-value and R-value</a></li><li><a href=#referencing-temporary-values aria-label="Referencing temporary values">Referencing temporary values</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=1-concept-of-a-reference-in-c>1 Concept of a Reference in C++<a hidden class=anchor aria-hidden=true href=#1-concept-of-a-reference-in-c>#</a></h2><p>A <strong>Reference</strong> is a new name(alias) for another existing object or variable. And, as the name suggests, it is a <em>pointer</em> internally.</p><p>Reference is declared as:</p><p><code>&lt;type>& &lt;name> = &lt;referenced_variable></code></p><p>Like pointer symbol(<code>*</code>), reference symbol(<code>&</code>) can be placed anywhere between <code>&lt;type></code> and <code>&lt;name></code>.</p><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon admonition-icon icon-note"></i>Note<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div><div class=details-content><div class=admonition-content><ol><li><p>Note that references <strong>must be initialized</strong> when they are created. References without objects to reference do not make sense.</p></li><li><p><strong>NULL reference</strong> does not exist.</p></li><li><p>Cannot reference to constants. Like pointers cannot.(We need <code>const</code> keyword for this, sometimes called const references)</p></li></ol><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
<span class=kt>int</span><span class=o>&amp;</span> <span class=n>ref1</span> <span class=o>=</span> <span class=n>a</span><span class=p>;</span> <span class=c1>// O
</span><span class=c1></span>
<span class=kt>int</span><span class=o>&amp;</span> <span class=n>ref2</span> <span class=o>=</span> <span class=nb>NULL</span> <span class=c1>// X
</span><span class=c1></span>
<span class=k>const</span> <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
<span class=kt>int</span><span class=o>&amp;</span> <span class=n>ref3</span> <span class=o>=</span> <span class=n>b</span><span class=p>;</span> <span class=c1>// X
</span><span class=c1></span><span class=kt>int</span><span class=o>&amp;</span> <span class=n>ref4</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// X
</span></code></pre></div></div></div></div><hr><h2 id=2-uses-of-references>2 Uses of References<a hidden class=anchor aria-hidden=true href=#2-uses-of-references>#</a></h2><h3 id=simple-alias>Simple Alias<a hidden class=anchor aria-hidden=true href=#simple-alias>#</a></h3><p>References are pointers(of course they don&rsquo;t look like pointers) referring to the exact same object initialized with. References act like the referenced variables but only with different names.</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span> <span class=n>data</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
    <span class=kt>int</span><span class=o>&amp;</span> <span class=n>rData</span> <span class=o>=</span> <span class=n>data</span><span class=p>;</span>
    
    <span class=n>rData</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span> <span class=c1>// same as data = 20;
</span><span class=c1></span>    
    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;data: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>data</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;rData: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>rData</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>The result is:</p><div class="details admonition quote open"><div class="details-summary admonition-title" style=display:none><i class="icon admonition-icon icon-quote"></i>Execution Result<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div><div class=details-content><div class=admonition-content><p>data: 20</p><p>rData: 20</p></div></div></div><h3 id=function-parameters>Function Parameters<a hidden class=anchor aria-hidden=true href=#function-parameters>#</a></h3><p>It is very common that references are used as function parameters.</p><p>When an argument is not passed as a reference, the copy of the argument is made, and the function deals with the copied value.</p><p>However, in this case, passing argument as a reference makes us modify the original value directly.</p><p>Also, if the size of the argument is big(like an array), it is efficient to use a reference as no copy of the big data happens.</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>void</span> <span class=nf>increase</span><span class=p>(</span><span class=kt>int</span><span class=o>&amp;</span> <span class=n>value</span><span class=p>)</span>
<span class=p>{</span>
    <span class=n>value</span><span class=o>++</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span> <span class=n>data</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
    <span class=n>increase</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
    <span class=c1>// increase(&amp;data) Wrong!
</span><span class=c1></span>    
    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;data: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>data</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>The result is:</p><div class="details admonition quote open"><div class="details-summary admonition-title" style=display:none><i class="icon admonition-icon icon-quote"></i>Execution Result<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div><div class=details-content><div class=admonition-content>data: 11</div></div></div><div class="details admonition warning open"><div class="details-summary admonition-title" style=display:none><i class="icon admonition-icon icon-warning"></i>Warning<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div><div class=details-content><div class=admonition-content><p>Passing constant argument to <code>increase()</code> function like <code>increase(10)</code> will generate a compile error.</p><p>The reason is that reference can&rsquo;t refer to contant value.</p><p>To avoid this, we use const reference, which will be described below of this article.</p></div></div></div><hr><h2 id=3-references-vs-pointers>3 References vs Pointers<a hidden class=anchor aria-hidden=true href=#3-references-vs-pointers>#</a></h2><p>References can be thought of as pointers with more restrictive power. For example, the first example can be substitued using pointer like:</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#inlcude &lt;iostream&gt;
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span> <span class=n>data</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
    <span class=kt>int</span><span class=o>*</span> <span class=n>pData</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>data</span><span class=p>;</span>
    <span class=o>*</span><span class=n>pData</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>Then, why do we need references?</p><p>Actually, references are recommended in most cases because those restrictions prevent people from certain dangers of using pointers.</p><p>Below are some of significant differences between References and Pointers.</p><h3 id=allowing-null-values>Allowing NULL values<a hidden class=anchor aria-hidden=true href=#allowing-null-values>#</a></h3><p>Like said above, a reference can&rsquo;t have NULL value.</p><h3 id=memory-allocation>Memory allocation<a hidden class=anchor aria-hidden=true href=#memory-allocation>#</a></h3><p>Pointer itself is allocated a memory address, and stores the memory address of the variable it points.</p><p>However, reference shares the same memory address with the original variable(Of course it should also have memory address in low level).</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span> <span class=n>data</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>

    <span class=kt>int</span><span class=o>*</span> <span class=n>pData</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>data</span><span class=p>;</span>
    <span class=kt>int</span><span class=o>&amp;</span> <span class=n>rData</span> <span class=o>=</span> <span class=n>data</span><span class=p>;</span>

    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;addr of data: &#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>data</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;addr of pData: &#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>pData</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;addr of rData: &#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>rData</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
    
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>The result is:</p><div class="details admonition quote open"><div class="details-summary admonition-title" style=display:none><i class="icon admonition-icon icon-quote"></i>Execution Result<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div><div class=details-content><div class=admonition-content><p>addr of data: 010FFE80</p><p>addr of pData: 010FFE74</p><p>addr of rData: 010FFE80</p></div></div></div><h3 id=reassigning-reference>Reassigning reference<a hidden class=anchor aria-hidden=true href=#reassigning-reference>#</a></h3><p>Once a reference is initialized, this reference can&rsquo;t change.</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span> <span class=n>num1</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>num2</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
    <span class=kt>int</span><span class=o>&amp;</span> <span class=n>rNum1</span> <span class=o>=</span> <span class=n>num1</span><span class=p>;</span>
    <span class=n>rNum1</span> <span class=o>=</span> <span class=n>num2</span>
<span class=p>}</span>
</code></pre></div><p>This code changes the value of num1 from 10 to the value of num2(20). Once <code>rNum1</code> variable refers to <code>num1</code>, it doesn&rsquo;t change.</p><p>However, for the case of pointers, it is possible to change where it points.</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span> <span class=n>num1</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>num2</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
    
    <span class=kt>int</span><span class=o>*</span> <span class=n>pNum1</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>num1</span><span class=p>;</span>
    <span class=n>pNum1</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>num2</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>Pointer variable <code>pNum1</code> now points <code>num2</code>. Now we can see something is wrong. In some cases this can be critical. To prevent this, use reference or <code>const</code> keyword. After all, <code>int& rNum1</code> can be regarded as <code>int* const pNum1</code>.</p><hr><h2 id=4-const-references>4 Const References<a hidden class=anchor aria-hidden=true href=#4-const-references>#</a></h2><p>It seems like reference covers all the pointer&rsquo;s problem, but reference can also bring some problems.</p><p>One big problem is that <strong>When a function&rsquo;s parameter is reference and we are trying to use that function, we can&rsquo;t be sure whether it is reference or not.</strong></p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=kt>int</span> <span class=n>data</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
<span class=n>someFunc</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</code></pre></div><p>In C language, we can be sure that the value of <code>data</code> is still 10 after <code>someFunc(data)</code> has been executed.</p><p>In C++, however, if the function is declared like <code>void someFunc(int&)</code>, there exists a possibility of modifying the value of <code>data</code>.</p><p>This is where const reference should come in. we can prevent modifying the value of original argument by declaring the function as <code>void someFunc(const int&)</code>.</p><p>Const reference also makes referencing to constant values possible.</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=k>const</span> <span class=kt>int</span> <span class=n>data</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
<span class=k>const</span> <span class=kt>int</span><span class=o>&amp;</span> <span class=n>rData</span> <span class=o>=</span> <span class=n>data</span><span class=p>;</span> <span class=c1>// O
</span><span class=c1></span><span class=k>const</span> <span class=kt>int</span><span class=o>&amp;</span> <span class=n>rNum</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>    <span class=c1>// O
</span></code></pre></div><p>This resolves another problem stated above. I mentioned <code>increase(10)</code> is not allowed in the function parameter example.</p><p>If the function parameter is reference, argument should be made as a non-constant variable. This is very annoying.</p><p>However, if we use const reference, we are then be able to pass contant argument to the function. Therefore, <code>increase(10)</code>is possible (Actually this function modifies the value of the argument, so it is not the right case to use it).</p><hr><h2 id=5-r-value-references-c11>5 R-value References (C++11)<a hidden class=anchor aria-hidden=true href=#5-r-value-references-c11>#</a></h2><p>R-value reference is introduced in C++11. Reference we discussed so far is actually a L-value reference.</p><p>R-value reference uses two <code>&</code> symbols:</p><p><code>&lt;type>&& &lt;name> = &lt;r-value></code></p><h3 id=l-value-and-r-value>L-value and R-value<a hidden class=anchor aria-hidden=true href=#l-value-and-r-value>#</a></h3><p>Simply we distinguish l-values and r-values by figuring out whether the value can be put left-side or right-side of assignment operator(<code>=</code>). However, I need slightly more concrete criteria.</p><p><strong>L-value</strong> is an object whose memory location is identifiable. Most variables are l-values.</p><p><strong>R-value</strong> is any object that is not l-value, which means we cannot identify its memory location. Literals and temporary values obtained from arithmetic operations or returned by function calls are usually r-values.</p><div class="details admonition warning open"><div class="details-summary admonition-title" style=display:none><i class="icon admonition-icon icon-warning"></i>Misconceptions<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div><div class=details-content><div class=admonition-content><ol><li>Functions or operators always yields R-values</li></ol><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>5</span> <span class=o>+</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// (5 + 3) is r-value
</span><span class=c1></span>
<span class=kt>int</span> <span class=n>b</span><span class=p>;</span>
<span class=kt>int</span><span class=o>&amp;</span> <span class=n>test</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=n>b</span><span class=p>;</span> <span class=p>}</span>
<span class=n>test</span><span class=p>()</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=c1>// return value of test() is l-value
</span><span class=c1></span>
<span class=kt>int</span> <span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
<span class=n>arr</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span> <span class=c1>// [] operator yields l-value
</span></code></pre></div><ol start=2><li>R-values are not modifiable</li></ol><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=n>TestClass</span><span class=p>().</span><span class=n>testFunc</span><span class=p>();</span> <span class=c1>// TestClass() returns r-value, but testFunc() may modify TestClass object
</span></code></pre></div></div></div></div><h3 id=referencing-temporary-values>Referencing temporary values<a hidden class=anchor aria-hidden=true href=#referencing-temporary-values>#</a></h3><p>A result of arithmetic operations is temporary value. its scope is the line the operation was performed. After the execution of that line, we lose the temporary value.</p><p>R-value reference makes us keep track of the temporary value.</p><div class=highlight><pre class=chroma><code class=language-cpp data-lang=cpp><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>twice</span><span class=p>(</span><span class=kt>int</span> <span class=n>input</span><span class=p>)</span>
<span class=p>{</span>
    <span class=k>return</span> <span class=n>input</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
    <span class=kt>int</span><span class=o>&amp;&amp;</span> <span class=n>num1</span> <span class=o>=</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>7</span><span class=p>;</span>
    <span class=kt>int</span><span class=o>&amp;&amp;</span> <span class=n>num2</span> <span class=o>=</span> <span class=n>twice</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>This looks a bit wierd because we can just use simple <code>int num1 = 3 + 7</code> instead of that ugly <code>&&</code>.</p><p>I know this is not the real usefulness of r-value reference.</p><p>I need to study further to figure out that. To be continued&mldr;</p><hr><p>üëâ <strong>Thank you for reading my post !</strong> üôè</p><p>üëâ Please leave a comment if you have any ideas to share ! üé∂</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jureaky.github.io/tags/cpp/>Cpp</a></li></ul><nav class=paginav><a class=prev href=https://jureaky.github.io/posts/go-short-variable-declaratioin/><span class=title>¬´ Prev</span><br><span>[Go] Short Variable Declaration</span></a>
<a class=next href=https://jureaky.github.io/posts/create-a-github-blog-with-hugo/><span class=title>Next ¬ª</span><br><span>Create a Github Blog With Hugo</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share References in C++ on twitter" href="https://twitter.com/intent/tweet/?text=References%20in%20C%2b%2b&url=https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f&hashtags=Cpp"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share References in C++ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f&title=References%20in%20C%2b%2b&summary=References%20in%20C%2b%2b&source=https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share References in C++ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f&title=References%20in%20C%2b%2b"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share References in C++ on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share References in C++ on whatsapp" href="https://api.whatsapp.com/send?text=References%20in%20C%2b%2b%20-%20https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share References in C++ on telegram" href="https://telegram.me/share/url?text=References%20in%20C%2b%2b&url=https%3a%2f%2fjureaky.github.io%2fposts%2freferences-in-cplusplus%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=utterances></div><script src=https://utteranc.es/client.js repo=jureaky/blog-comments issue-term=pathname lighttheme=github-light darktheme=github-dark crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2022 <a href=https://jureaky.github.io>Clips</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>